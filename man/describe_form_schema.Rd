% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/MetadataDocs.R
\name{describe_form_schema}
\alias{describe_form_schema}
\title{Describe a form in plain language}
\usage{
describe_form_schema(
  form,
  include_fields = FALSE,
  version = "latest",
  include = c("input", "all"),
  quiet = FALSE
)
}
\arguments{
\item{form}{Form schema list, JSON string, or path to a JSON file.}

\item{include_fields}{Logical. If \code{TRUE}, include a field dictionary in the
output (from \code{\link[=build_field_dictionary]{build_field_dictionary()}}).}

\item{version}{Which form version to use when \code{form} is metadata (from
\code{\link[=fetch_form_metadata]{fetch_form_metadata()}}). Use \code{"latest"} (default), a version number (e.g., \code{3}),
or a version ID.}

\item{include}{Which components to count for fields. Defaults to input fields
only (\code{"input"}). Use \code{"all"} to include layout components too.}

\item{quiet}{Logical. If \code{FALSE}, prints a short summary.}
}
\value{
A list with:
\describe{
\item{meta}{Form details like title, name, ID, and version}
\item{counts}{How many components, fields, and sections}
\item{fields}{Field dictionary data frame (only if \code{include_fields = TRUE})}
}
}
\description{
This is a simple overview of a form: the name, version, and how many fields
it contains. It is meant for non-technical users who want a quick summary.
If audit logging is active (see \code{\link[=start_audit_log]{start_audit_log()}}), this action is recorded.
}
\details{
What you can pass to \code{form}:
\itemize{
\item A \strong{schema list} (from a schema API response)
\item A \strong{JSON string}
\item A \strong{path to a JSON file}
\item The output of \code{\link[=fetch_form_metadata]{fetch_form_metadata()}}
}

Important: \code{\link[=fetch_form_metadata]{fetch_form_metadata()}} returns \strong{metadata only}, not the full form.
If you pass metadata, this function will automatically fetch the form schema
using stored credentials (from \code{\link[=ask_credentials]{ask_credentials()}} or \code{fetch_form_metadata()}).
If credentials are not available, it will stop with a clear message.

Note (CHEF): Some schema endpoints live at \verb{/api/v1} while other endpoints
(like exports) are under \verb{/app/api/v1}. If a schema fetch fails at the
provided \code{base_url}, FormIOr automatically retries the alternate base.

Tip: Use \code{include = "input"} (default) to count only the fields people fill in,
or \code{include = "all"} to include layout items like panels and tabs.
}
\examples{
form <- list(
  title = "Sample Form",
  name = "sample_form",
  version = 2,
  components = list(
    list(type = "textfield", key = "first_name", label = "First name", input = TRUE),
    list(type = "panel", title = "Details", components = list(
      list(type = "number", key = "age", label = "Age", input = TRUE)
    ))
  )
)
describe_form_schema(form)

\dontrun{
meta <- fetch_form_metadata(form_id = "123", api_key = "abc")
describe_form_schema(meta)
}
}
