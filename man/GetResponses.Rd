% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/GetRespones.R
\name{GetResponses}
\alias{GetResponses}
\title{Download responses from a FormIO form}
\usage{
GetResponses(
  base_url = "https://submit.digital.gov.bc.ca/app/api/v1",
  form_id = NULL,
  api_key = NULL,
  drafts = FALSE,
  deleted = FALSE,
  content.only = TRUE,
  reenter.credentials = FALSE
)
}
\arguments{
\item{base_url}{Character. API base URL. Default:
\code{"https://submit.digital.gov.bc.ca/app/api/v1"}.}

\item{form_id}{Character. Form ID. If \code{NULL}, uses stored credentials or
prompts via \code{\link[=AskCredentials]{AskCredentials()}}.}

\item{api_key}{Character. API key/secret. If \code{NULL}, uses stored credentials
or prompts via \code{\link[=AskCredentials]{AskCredentials()}}.}

\item{drafts}{Logical. Include draft submissions? Default \code{FALSE}.}

\item{deleted}{Logical. Include deleted submissions? Default \code{FALSE}.}

\item{content.only}{Logical or character.
\itemize{
\item \code{TRUE} (default): return the submissions as a data frame/list
\item \code{FALSE}: return a list with status, headers, and the parsed content
\item \code{"raw"}: return the raw JSON response as text
}}

\item{reenter.credentials}{Logical. Force re-entry of credentials (default:
\code{FALSE}).}
}
\value{
If \code{content.only = TRUE} (default), returns the parsed submissions
(typically a data frame).
If \code{content.only = FALSE}, returns a list with elements \code{status},
\code{content_type}, \code{content_disposition}, and \code{submission_data}.
If \code{content.only = "raw"}, returns the raw JSON response as a character
string.
}
\description{
Retrieves submissions ("responses") for a FormIO form using the export API.
This is one of the main entry points for getting data into FormIOr.
}
\details{
Credentials:
\itemize{
\item If \code{form_id} and \code{api_key} are \code{NULL}, FormIOr will use previously entered
credentials from the current R session (stored internally), or prompt via
\code{\link[=AskCredentials]{AskCredentials()}}.
}

Audit logging:
\itemize{
\item If audit logging is active (see \code{\link[=StartAuditLog]{StartAuditLog()}}), the download action is
recorded (but your API key is never written to the log).
}
}
\section{CHEF credentials and base URL}{

FormIOr is designed for the BC Public Service CHEF FormIO service.
The default base URL is \verb{https://submit.digital.gov.bc.ca/app/api/v1}.
If you use a different FormIO service, you must override \code{base_url} and
compatibility is not guaranteed.

For CHEF users, generate your API key from the form's \strong{Manage} page.
The Form ID is the final alphanumeric code after the \code{=} sign in the
Manage page URL.
}

\examples{
\dontrun{
responses <- GetResponses(form_id = "your-form-id", api_key = "your-api-key")
flat <- FlattenSubmissions(responses)
}
}
