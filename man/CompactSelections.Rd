% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CleaningSimplification.R
\name{CompactSelections}
\alias{CompactSelections}
\title{Compact checkbox/multi-select columns into a single readable column}
\usage{
CompactSelections(
  x,
  sep = "-",
  combine_sep = ", ",
  drop = TRUE,
  keep_empty = FALSE,
  yes_values = c(TRUE, "TRUE", "True", "true", "Yes", "YES", "yes", "Y", "y", 1, "1"),
  no_values = c(FALSE, "FALSE", "False", "false", "No", "NO", "no", "N", "n", 0, "0", "",
    " ", "NA"),
  return_flat = FALSE,
  quiet = FALSE
)
}
\arguments{
\item{x}{A data frame of responses, or a list from \code{\link[=FlattenSubmissions]{FlattenSubmissions()}}.}

\item{sep}{Separator used in column names to split prefix and option.
Default \code{"-"} (matches \code{\link[=FlattenSubmissions]{FlattenSubmissions()}} naming).}

\item{combine_sep}{Separator used between selected options.}

\item{drop}{Logical. If \code{TRUE}, drop the original checkbox columns.}

\item{keep_empty}{Logical. If \code{TRUE}, keep empty strings instead of \code{NA}
when no options are selected.}

\item{yes_values}{Values that should count as "selected".}

\item{no_values}{Values that should count as "not selected" (defaults include
\code{FALSE}, \code{"No"}, \code{0}, and blank strings).}

\item{return_flat}{Logical. If \code{TRUE} and \code{x} came from \code{\link[=FlattenSubmissions]{FlattenSubmissions()}},
include the updated list as \code{flat} in the output.}

\item{quiet}{Logical. If \code{FALSE}, prints a short summary.}
}
\value{
A list with:
\describe{
\item{data}{Data frame with compacted selection columns}
\item{summary}{Data frame describing which columns were compacted}
\item{flat}{If \code{return_flat = TRUE} and \code{x} was a FlattenSubmissions list, the updated list}
}
}
\description{
When a question generates multiple TRUE/FALSE columns (e.g., select boxes),
this function combines them into a single comma-separated column.
If audit logging is active (see \code{\link[=StartAuditLog]{StartAuditLog()}}), this action is recorded.
}
\examples{
\dontrun{
compacted <- CompactSelections(flat)
head(compacted$data)
}
}
